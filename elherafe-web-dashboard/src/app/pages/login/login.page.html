<!-- Background Gradient -->
<div class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-r from-[#3775FA] via-[#749CF4] to-[#204594] p-2 sm:p-4">
    
    <!-- Logo Image -->
    <img class="w-32 sm:w-42 " src="/assets/logos/logo-white.png" 
         onerror="this.onerror=null; this.src='https://placehold.co/112x64/ffffff/204594?text=LOGO'" 
         alt="شعار التطبيق">

     <!-- Login Card Container -->
    <div class="w-full max-w-sm sm:max-w-md bg-white shadow-2xl p-5 sm:p-6 rounded-2xl">
        
        <form (ngSubmit)="onSubmit()" class="space-y-2">
            <!-- Title -->
            <h2 class="text-xl text-gray-900 mb-6 mt-4 text-end">
                تسجيل الدخول 
            </h2>

            <!-- Username Field Group -->
            <div>
                <label for="username" class="block text-sm font-medium text-gray-700 mb-1 text-end">اسم المستخدم</label>
                <div class="relative">
                    <input type="text" id="username" 
                           placeholder="أدخل اسم المستخدم" 
                           class="w-full pr-10 pl-3 py-2 border border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-right placeholder-gray-400 text-sm transition duration-150" 
                           required
                           [(ngModel)]="username" name="username">
                    <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
                    </span>
                </div>
            </div>

            <!-- Password Field Group -->
            <div class="pt-1">
                <label for="password" class="block text-sm font-medium text-gray-700 mb-1 text-end">كلمة السر</label>
                <div class="relative">
                    <input [type]="showPassword ? 'text' : 'password'" id="password" 
                           placeholder="من فضلك أدخل كلمة السر" 
                           class="w-full pr-10 pl-10 py-2 border border-gray-200 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-right placeholder-gray-400 text-sm transition duration-150" 
                           [(ngModel)]="password" name="password"
                           required>
                    <span class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                    </span>
                        <button type="button"
                            class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 cursor-pointer focus:outline-none"
                            (click)="togglePasswordVisibility()"
                            aria-label="تبديل حالة إظهار كلمة السر">
                        <ng-container *ngIf="!showPassword; else eyeOff">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                        </ng-container>
                        <ng-template #eyeOff>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.73 5.08A10.94 10.94 0 0 1 12 5c7 0 10 7 10 7a17.73 17.73 0 0 1-1.67 2.68"/><path d="M6.61 6.61C3.1 8.28 2 12 2 12s3 7 10 7a9.29 9.29 0 0 0 2.84-.44"/><line x1="2" y1="2" x2="22" y2="22"/></svg>
                        </ng-template>
                    </button>
                </div>
            </div>

            <!-- Forgot Password & Remember Me -->
            <!--
            <div class="flex justify-between items-center text-xs pt-1">
                <a href="#" class="text-blue-600 hover:text-blue-700 font-medium transition duration-150">
                    نسيت كلمة السر؟
                </a>
                <div class="flex items-center space-x-2 space-x-reverse">
                    <label for="remember" class="text-gray-600 font-medium cursor-pointer mr-2">تذكرني المرة الجاية</label>
                    <input id="remember" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer">
                </div>
            </div>
            -->

            <!-- Submit Button -->
            <button type="submit"
                    [disabled]="isSubmitting"
                    class="w-full bg-[#3775FA] hover:bg-blue-600 text-white text-sm py-2.5 mt-2 rounded-lg transition duration-200 shadow-lg shadow-blue-500/50 transform hover:scale-[1.01] active:scale-100 disabled:opacity-70 disabled:cursor-not-allowed">
                <ng-container *ngIf="!isSubmitting; else loadingState">
                    سجل دخولك
                </ng-container>
                <ng-template #loadingState>
                    <div class="flex items-center justify-center gap-2 text-sm">
                        <svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" aria-hidden="true">
                            <circle class="opacity-30" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-90" fill="currentColor" d="M4 12a8 8 0 0 1 8-8v4a4 4 0 0 0-4 4H4z"></path>
                        </svg>
                        <span>جاري تسجيل الدخول...</span>
                    </div>
                </ng-template>
            </button>
        </form>
    </div>
</div>